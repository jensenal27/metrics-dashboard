(this["webpackJsonpmetrics-dashboard"]=this["webpackJsonpmetrics-dashboard"]||[]).push([[0],{79:function(t,e,n){},80:function(t,e,n){},81:function(t,e,n){},82:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(2),i=n.n(r),c=n(26),s=n.n(c),l=(n(79),n(3)),o=n(1),f=(n(80),n(81),n(5)),d=function(t){var e=t.data,n=t.changeMetric,i=t.xAccessor,c=t.yAccessor,s=t.title,l=Object(r.useRef)(),d={width:600,height:300,margin:{top:30,right:60,bottom:50,left:60}};d.boundedWidth=d.width-d.margin.left-d.margin.right,d.boundedHeight=d.height-d.margin.top-d.margin.bottom;var u=function(t){return"Market One"===t.x?"#c02255":"Market Two"===t.x?"#a8709f":"Market Three"===t.x?"#42a54b":"Market Four"===t.x?"#b3dbe3":"Market Five"===t.x?"#80a68f":"#fafdff"},h=function(){var t=[];Object(f.a)(new Set(e.map(i))).forEach((function(n){var a=e.map(i).filter((function(t){return t===n})).length,r=n.split("(").pop().split(")")[0];t.push({x:r,y:a})}));t.sort((function(t,e){return e.y-t.y}));var a=o.m(l.current).attr("id","three").attr("width",d.width).attr("height",d.height).select(".bounds").style("transform","translate(".concat(d.margin.left,"px, ").concat(d.margin.top,"px)")),r=o.k().domain([0,o.h(t,c)]).range([d.boundedHeight,0]),h=o.j().domain(t.map((function(t){return t.x}))).range([0,d.boundedWidth]),x=o.p().duration(1e3),b=(a.selectAll("rect").data(t).join((function(t){return t.append("rect").attr("x",(function(t){return h(t.x)+5})).attr("y",(function(t){return d.boundedHeight})).attr("height",0).attr("width",h.bandwidth()-10).style("fill","#44465b").style("cursor","pointer").call((function(t){return t.transition(x).attr("y",(function(t){return r(c(t))})).attr("height",(function(t){return d.boundedHeight-r(c(t))})).transition().duration(250).style("fill",u)}))}),(function(t){return t.transition(x).attr("x",(function(t){return h(t.x)+5})).attr("y",(function(t){return r(c(t))})).attr("height",(function(t){return d.boundedHeight-r(c(t))})).attr("width",h.bandwidth()-10).style("fill","#44465b").call((function(t){return t.transition().duration(250).style("fill",u)}))}),(function(t){return t.transition(x).attr("y",(function(t){return d.boundedHeight})).attr("height",0).style("fill","#44465b").call((function(t){return t.remove()}))})),a.selectAll("#barlabel").data(t).join((function(t){return t.append("text").attr("id","barlabel").attr("x",(function(t){return h(t.x)+h.bandwidth()/2})).attr("y",(function(t){return d.boundedHeight})).text(c).style("text-anchor","middle").attr("fill","#fafdff").style("font-size","12px").style("font-family","sans-serif").style("display",(function(t){return 0===t.length?"none":null})).call((function(t){return t.transition(x).attr("x",(function(t){return h(t.x)+h.bandwidth()/2})).attr("y",(function(t){return r(c(t))-5})).text(c).style("text-anchor","middle").attr("fill","#fafdff").style("font-size","12px").style("font-family","sans-serif")})).style("display",(function(t){return 0===t.length?"none":null}))}),(function(t){return t.transition(x).attr("x",(function(t){return h(t.x)+h.bandwidth()/2})).attr("y",(function(t){return r(c(t))-5})).text(c).style("text-anchor","middle").attr("fill","#fafdff").style("font-size","12px").style("font-family","sans-serif").style("display",(function(t){return 0===t.length?"none":null}))}),(function(t){return t.remove()})),o.i(t,c)),m=(a.selectAll(".meanline").data(t).transition(x).attr("x1",-4).attr("x2",d.boundedWidth).attr("y1",r(b)).attr("y2",r(b)).attr("stroke","#fafdff").attr("stroke-dasharray","4px 8px").attr("stroke-width","2px"),a.selectAll(".meanlabel").data(t).transition(x).attr("x",-40).attr("y",r(b)+2).text("mean").attr("fill","#fafdff").style("font-size","12px"),o.b().scale(h));a.select(".x-axis").transition(x).call(m),a.select(".x-axis-label").attr("x",d.boundedWidth/2).attr("y",d.margin.bottom-10).attr("fill","#fafdff").style("font-size","1.4em").text(s).style("text-transform","capitalize");a.selectAll("rect").on("mousedown",(function(t){n(t.x)}))};return Object(r.useEffect)((function(){o.m(l.current).attr("id","three").attr("width",d.width).attr("height",d.height),h()}),[]),Object(r.useEffect)((function(){h()}),[e]),Object(a.jsx)("div",{className:"col_wrap",children:Object(a.jsx)("svg",{ref:l,children:Object(a.jsxs)("g",{className:"bounds",children:[Object(a.jsx)("g",{className:"x-axis",style:{transform:"translateY(".concat(d.boundedHeight,"px)"),strokeWidth:"10px",color:"#fafdff"},children:Object(a.jsx)("text",{className:"x-axis-label"})}),Object(a.jsx)("line",{className:"meanline",x1:"-4",x2:"-4",y1:d.boundedHeight/2,y2:d.boundedHeight/2,stroke:"#fafdff",strokeDasharray:"4px 8px",strokeWidth:"2px"}),Object(a.jsx)("text",{className:"meanlabel",x:"-40",y:d.boundedHeight/2+2,text:"mean",fill:"#fafdff",fontSize:"12px"})]})})})},u=function(t){var e=t.data,n=t.xAccessor,i=t.yAccessor,c=t.title,s=t.setActiveAccount,l=Object(r.useRef)(),d={width:475,height:237.5,margin:{top:30,right:40,bottom:50,left:40}};d.boundedWidth=d.width-d.margin.left-d.margin.right,d.boundedHeight=d.height-d.margin.top-d.margin.bottom;var u=[],h=Object(f.a)(new Set(e.map(n)));h.forEach((function(t){var a=e.map(n).filter((function(e){return e===t})).length,r=t;u.push({x:r,y:a})}));u.sort((function(t,e){return e.y-t.y})),console.log(u);var x=function(t){return"Partner"===t.x?"#044662":"Internal"===t.x?"#0f5a7b":"Client"===t.x?"#227193":"Community"===t.x?"#3b809e":"One-A"===t.x?"#770026":"One-B"===t.x?"#9a103c":"One-C"===t.x?"#c02255":"One-D"===t.x?"#cf4772":"Two-A"===t.x?"#712966":"Two-B"===t.x?"#8d4882":"Two-C"===t.x?"#a8709f":"Two-D"===t.x?"#c69ebf":"Three-A"===t.x?"#0e6d14":"Three-B"===t.x?"#268b2c":"Three-C"===t.x?"#42a548":"Three-D"===t.x?"#6cc371":"Four-A"===t.x?"#51919d":"Four-B"===t.x?"#82bbc5":"Four-C"===t.x?"#b3dbe3":"Four-D"===t.x?"#dff3f7":"Five-A"===t.x?"#3c7653":"Five-B"===t.x?"#5b8d6f":"Five-C"===t.x?"#80a68f":"Five-D"===t.x?"#abc2b4":"Room Three"===t.x?"#0d0d2f":"Room Two"===t.x?"#1c1c45":"Room One"===t.x?"#2c2c54":"#fafdff"},b=function(){"IC: Sub Account"===c&&s(u[0].x);var t=o.m(l.current).attr("id","three").attr("width",d.width).attr("height",d.height).select(".bounds").style("transform","translate(".concat(d.margin.left,"px, ").concat(d.margin.top,"px)")),e=o.k().domain([0,o.h(u,i)]).range([d.boundedHeight,0]),n=o.j().domain(u.map((function(t){return t.x}))).rangeRound([0,d.boundedWidth]),a=o.p().duration(1e3),r=(t.selectAll("rect").data(u).join((function(t){return t.append("rect").attr("x",(function(t){return n(t.x)+3})).attr("y",(function(t){return d.boundedHeight})).attr("height",0).attr("width",n.bandwidth()-6).style("fill","#44465b").call((function(t){return t.transition(a).attr("y",(function(t){return e(i(t))})).attr("height",(function(t){return d.boundedHeight-e(i(t))})).transition().duration(250).style("fill",x)}))}),(function(t){return t.transition(a).attr("x",(function(t){return n(t.x)+3})).attr("y",(function(t){return e(i(t))})).attr("height",(function(t){return d.boundedHeight-e(i(t))})).attr("width",n.bandwidth()-6).style("fill","#44465b").call((function(t){return t.transition().duration(250).style("fill",x)}))}),(function(t){return t.transition(a).attr("y",(function(t){return d.boundedHeight})).attr("height",0).style("fill","#44465b").call((function(t){return t.remove()}))})),t.selectAll("#barlabel").data(u).join((function(t){return t.append("text").attr("id","barlabel").attr("x",(function(t){return n(t.x)+n.bandwidth()/2})).attr("y",(function(t){return d.boundedHeight})).text(i).style("text-anchor","middle").attr("fill","#fafdff").style("font-size","10px").style("font-family","sans-serif").style("display",(function(t){return 0===t.length?"none":null})).call((function(t){return t.transition(a).attr("x",(function(t){return n(t.x)+n.bandwidth()/2})).attr("y",(function(t){return e(i(t))-5})).text(i).style("text-anchor","middle").attr("fill","#fafdff").style("font-size","10px").style("font-family","sans-serif")})).style("display",(function(t){return 0===t.length?"none":null}))}),(function(t){return t.transition(a).attr("x",(function(t){return n(t.x)+n.bandwidth()/2})).attr("y",(function(t){return e(i(t))-5})).text(i).style("text-anchor","middle").attr("fill","#fafdff").style("font-size","10px").style("font-family","sans-serif").style("display",(function(t){return 0===t.length?"none":null}))}),(function(t){return t.remove()})),o.i(u,i)),f=(t.selectAll(".meanline").data(u).transition(a).attr("x1",-4).attr("x2",d.boundedWidth).attr("y1",e(r)).attr("y2",e(r)).attr("stroke","#fafdff").attr("stroke-dasharray","4px 8px").attr("stroke-width","2px"),t.selectAll(".meanlabel").data(u).transition(a).attr("x",-40).attr("y",e(r)+2).text("mean").attr("fill","#fafdff").style("font-size","12px"),o.b().scale(n).tickFormat((function(t){return t.split(": ").pop().slice(0,3)}))),b=(t.select(".x-axis").transition(a).call(f),t.select(".x-axis-label").attr("x",d.boundedWidth/2).attr("y",d.margin.bottom-10).attr("fill","#fafdff").style("font-size","1.4em").text(c).style("text-transform","capitalize"),t.selectAll(".tick text"));h.length>20?b.style("display","none"):b.style("display","initial"),t.selectAll("rect").on("mouseenter",(function(t){o.m("#tooltip".concat(c[0])).style("opacity",1),o.m(this).style("fill","#181a29"),o.m("#range".concat(c[0])).text(t.x+"  |  "),o.m("#count".concat(c[0])).text(i(t)+" Events")})).on("mouseleave",(function(t){o.m("#tooltip".concat(c[0])).style("opacity",0),o.m(this).style("fill",x)}))};return Object(r.useEffect)((function(){o.m(l.current).attr("id","three").attr("width",d.width).attr("height",d.height),b()}),[]),Object(r.useEffect)((function(){b()}),[e]),Object(a.jsxs)("div",{className:"col_wrap",children:[Object(a.jsx)("svg",{ref:l,children:Object(a.jsxs)("g",{className:"bounds",children:[Object(a.jsx)("g",{className:"x-axis",style:{transform:"translateY(".concat(d.boundedHeight,"px)"),strokeWidth:"2px",color:"#fafdff"},children:Object(a.jsx)("text",{className:"x-axis-label"})}),Object(a.jsx)("line",{className:"meanline",x1:"-4",x2:"-4",y1:d.boundedHeight/2,y2:d.boundedHeight/2,stroke:"#fafdff",strokeDasharray:"4px 8px",strokeWidth:"2px"}),Object(a.jsx)("text",{className:"meanlabel",x:"-40",y:d.boundedHeight/2+2,text:"mean",fill:"#fafdff",fontSize:"12px"})]})}),Object(a.jsxs)("div",{className:"tooltip",id:"tooltip".concat(c[0]),children:[Object(a.jsx)("span",{id:"range".concat(c[0])}),Object(a.jsx)("span",{id:"count".concat(c[0])})]})]})},h=function(t){var e=t.data,n=Object(r.useRef)(),i=o.o("%m/%e/%Y"),c=o.n("%b %y"),s=function(t){return c(i(t["Date Added"]))},l=function(t){return t.y},d=o.o("%b %y"),u=function(t){return d(t.item)},h={width:400,height:200,margin:{top:30,right:40,bottom:50,left:40}};h.boundedWidth=h.width-h.margin.left-h.margin.right,h.boundedHeight=h.height-h.margin.top-h.margin.bottom;var x=[];Object(f.a)(new Set(e.map(s))).forEach((function(t){var n=e.map(s).filter((function(e){return e===t})).length;x.push({item:t,y:n})}));return Object(r.useEffect)((function(){var t=o.m(n.current).attr("id","one").attr("width",h.width).attr("height",h.height).select(".bounds").style("transform","translate(".concat(h.margin.left,"px, ").concat(h.margin.top,"px)")),e=o.k().domain(o.f(x,l)).range([h.boundedHeight,0]),a=o.l().domain(o.f(x,u)).range([0,h.boundedWidth]),r=o.g().x((function(t){return a(u(t))})).y((function(t){return e(l(t))})).curve(o.e),i=o.a().x((function(t){return a(u(t))})).y0(h.boundedHeight).y1((function(t){return e(l(t))})).curve(o.e),c=o.p().duration(1e3),s=(t.selectAll(".line").data([x]).join("path").attr("class","line").transition(c).attr("d",r(x)).attr("fill","none").attr("stroke","#3c40c6").attr("stroke-width",1.5),t.selectAll(".area").data([x]).join("path").attr("class","area").transition(c).attr("d",i(x)).attr("fill","rgba(60, 64, 198, .15)").attr("pointer-events","none"),o.c().scale(e)),f=(t.select(".y-axis").transition(c).call(s),o.b().scale(a).ticks(4));t.select(".x-axis").transition(c).call(f),t.select(".x-axis-label").attr("x",h.boundedWidth/2).attr("y",h.margin.bottom-10).attr("fill","#fafdff").style("font-size","1.4em").text("Events").style("text-transform","capitalize")}),[x]),Object(a.jsx)("div",{className:"col_wrap",children:Object(a.jsx)("svg",{ref:n,children:Object(a.jsxs)("g",{className:"bounds",children:[Object(a.jsx)("g",{className:"x-axis",style:{transform:"translateY(".concat(h.boundedHeight,"px)"),color:"#fafdff"},children:Object(a.jsx)("text",{className:"x-axis-label"})}),Object(a.jsx)("g",{className:"y-axis",style:{color:"#fafdff"}}),Object(a.jsx)("circle",{className:"tooltipCircle",r:"7",stroke:"#f53b57",strokeWidth:"4",fill:"none",opacity:"0"})]})})})},x=function(t){var e=t.data,n=t.activeData,i=t.changeMetric,c=Object(r.useState)(""),s=Object(l.a)(c,2),o=s[0],f=s[1],x=Object(r.useState)(0),b=Object(l.a)(x,2),m=b[0],j=b[1],g=parseInt(e.length/m*100,10),y=parseInt(e.filter((function(t){return"Client"===t["Booking Event Type"]})).length/e.length*100,10),p=parseInt(e.filter((function(t){return"Internal"===t["Booking Event Type"]})).length/e.length*100,10),O=function(t){return t.y};return Object(r.useEffect)((function(){j(e.length)}),[]),Object(a.jsxs)("div",{className:"col_container",children:[Object(a.jsxs)("div",{className:"col_main",children:[Object(a.jsx)(d,{data:e,changeMetric:i,xAccessor:function(t){return t.Market},yAccessor:O,title:"Market"}),Object(a.jsx)("div",{className:"infoblock",children:Object(a.jsx)("span",{className:"maintitle",children:n})}),Object(a.jsxs)("div",{className:"infoblock",children:[Object(a.jsx)("span",{className:"subtitle",children:"Total Meetings"}),Object(a.jsx)("span",{className:"title",children:e.length})]}),Object(a.jsxs)("div",{className:"infoblock",children:[Object(a.jsx)("span",{className:"subtitle",children:"% Client"}),Object(a.jsxs)("span",{className:"title",children:[y,"%"]})]}),Object(a.jsxs)("div",{className:"infoblock",children:[Object(a.jsx)("span",{className:"subtitle",children:"Most Active Account"}),Object(a.jsx)("span",{className:"title",children:o})]}),Object(a.jsxs)("div",{className:"infoblock",children:[Object(a.jsx)("span",{className:"subtitle",children:"% of Total"}),Object(a.jsxs)("span",{className:"title",children:[g,"%"]})]}),Object(a.jsxs)("div",{className:"infoblock",children:[Object(a.jsx)("span",{className:"subtitle",children:"% Internal"}),Object(a.jsxs)("span",{className:"title",children:[p,"%"]})]})]}),Object(a.jsxs)("div",{className:"col_second",children:[Object(a.jsx)(h,{data:e}),Object(a.jsx)(u,{data:e,setActiveAccount:f,xAccessor:function(t){return t.Account},yAccessor:O,title:"Account"}),Object(a.jsx)(u,{data:e,xAccessor:function(t){return t["Booking Event Type"]},yAccessor:O,title:"Booking Event Type"}),Object(a.jsx)(u,{data:e,xAccessor:function(t){return t.Room},yAccessor:O,title:"Room"})]})]})},b=function(){var t=Object(r.useState)([]),e=Object(l.a)(t,2),n=e[0],i=e[1],c=Object(r.useState)([]),s=Object(l.a)(c,2),f=s[0],d=s[1],u=Object(r.useState)([]),h=Object(l.a)(u,2),b=h[0],m=h[1],j=Object(r.useState)([]),g=Object(l.a)(j,2),y=g[0],p=g[1],O=function(t){o.d(t).then((function(t){i(t)})).catch((function(t){console.log("error reading population data"+t)}))};return Object(r.useEffect)((function(){O("./metrics.csv"),m("All Markets"),p(0)}),[]),Object(r.useEffect)((function(){!function(){d(n);var t=n;1===y?d(t.filter((function(t){return t["Date Added"].endsWith("18")}))):2===y&&d(t.filter((function(t){return t["Date Added"].endsWith("19")})))}()}),[n,y]),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"city",children:"Innovation Center | Event Metrics"}),Object(a.jsxs)("div",{className:"year",children:[Object(a.jsx)("div",{className:"toggle",onClick:function(){p(0)},style:0===y?{backgroundColor:"#feffff",color:"#181a29"}:null,children:"All"}),Object(a.jsx)("div",{className:"toggle",onClick:function(){p(1)},style:1===y?{backgroundColor:"#feffff",color:"#181a29"}:null,children:"2018"}),Object(a.jsx)("div",{className:"toggle",onClick:function(){p(2)},style:2===y?{backgroundColor:"#feffff",color:"#181a29"}:null,children:"2019"})]}),Object(a.jsx)("div",{className:"main",children:f.length?Object(a.jsx)(x,{data:f,activeData:b,changeMetric:function(t){"All Markets"===b?(i(n.filter((function(e){return e.Market.includes(t)}))),m(t)):(O("./metrics.csv"),m("All Markets"))}}):null})]})},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),i(t),c(t)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(b,{})}),document.getElementById("root")),m()}},[[82,1,2]]]);
//# sourceMappingURL=main.7fba86df.chunk.js.map